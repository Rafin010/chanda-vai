<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶æ ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶®</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Hind+Siliguri:wght@400;600&family=Rubik+Wet+Paint&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            font-family: 'Hind Siliguri', sans-serif;
            touch-action: none; 
            overflow: hidden;
        }
        /* ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶≠‡¶æ‡¶∏ ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏‡¶™‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶≤‡ßã ‡¶Ø‡¶æ‡¶§‡ßá ‡¶™‡ßá‡¶õ‡¶®‡ßá‡¶∞ ‡¶ì‡ßü‡¶æ‡¶ü‡¶æ‡¶∞‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡ßü */
        #gameCanvas {
            background: transparent; 
            position: relative;
            z-index: 10;
        }
        /* ‡¶Æ‡ßÇ‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶¨‡¶°‡¶ø‡¶§‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶≤‡ßã */
        .game-bg {
            background-image: url('https://i.ibb.co.com/39G9dycL/b982ac90-2c60-4933-92f2-1a1549f83c89.jpg');
            background-size: cover;
            background-position: center;
        }
        .pop-in {
            animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes pop {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body class="game-bg select-none h-screen w-screen relative overflow-hidden">

    <div class="absolute inset-0 flex items-center justify-center pointer-events-none z-0 overflow-hidden opacity-20">
        <div class="transform text-center select-none">
            <h1 class="font-['Rubik_Wet_Paint'] text-6xl md:text-9xl text-gray-700/40 tracking-wider leading-tight">
                DEV: RAFIN
            </h1>
            <h2 class="font-['Rubik_Wet_Paint'] text-4xl md:text-6xl text-green-900/40 mt-2">
                CO: SAZZAD
            </h2>
        </div>
    </div>
    <div class="absolute top-4 right-4 z-20">
        <div class="flex items-center gap-3 bg-white/90 backdrop-blur-md border-2 border-yellow-400 px-5 py-2 rounded-full shadow-lg transform hover:scale-105 transition duration-300">
            <img src="https://i.ibb.co.com/Z6pPbNfN/cahda.png" alt="Coin" class="w-8 h-8 object-contain drop-shadow-sm">
            <div class="flex flex-col leading-none">
                <span class="text-[10px] text-gray-500 font-bold uppercase tracking-wider">‡¶Æ‡ßã‡¶ü ‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶æ</span>
                <span id="scoreDisplay" class="text-xl font-bold text-gray-800">‡ß¶</span>
            </div>
        </div>
    </div>

    <div id="startScreen" class="absolute inset-0 z-30 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm p-4">
        <div class="bg-white p-8 rounded-2xl shadow-2xl text-center max-w-md w-full pop-in border-t-8 border-green-500">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶æ ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶®</h1>
            <p class="text-gray-600 mb-6 text-lg">‡¶§‡ßÅ‡¶≤‡¶ø ‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶æ, ‡¶®‡¶æ‡¶Æ ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ñ‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ</p>
            
            <div class="space-y-4">
                <p class="text-sm text-gray-500 bg-gray-100 p-3 rounded-lg">
                    üëÜ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶∞‡¶æ‡¶§‡ßá ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá ‡¶ü‡¶æ‡¶ö ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶¨‡¶æ ‡¶Æ‡¶æ‡¶â‡¶∏ ‡¶®‡¶æ‡¶°‡¶º‡¶æ‡¶®
                </p>
                <button onclick="startGame()" class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg transform transition active:scale-95 text-xl">
                    ‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶æ ‡¶§‡ßã‡¶≤‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
            </div>
        </div>
    </div>

    <div id="gameOverScreen" class="hidden absolute inset-0 z-30 flex flex-col items-center justify-center bg-black/90 p-4">
        <div class="bg-white rounded-3xl shadow-2xl overflow-hidden max-w-sm w-full pop-in relative">
            <div class="bg-red-500 p-6 text-center">
                <h2 class="text-3xl font-bold text-white">‡¶ï‡¶ü ‡¶ñ‡ßá‡¶Ø‡¶º‡ßá ‡¶ó‡ßá‡¶≤‡¶æ‡¶Æ ‡¶®‡¶æ‡¶ï‡¶ø!</h2>
                <p class="text-red-100 mt-1">‡¶ñ‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ß‡¶æ‡¶ï‡ßç‡¶ï‡¶æ ‡¶≤‡ßá‡¶ó‡ßá‡¶õ‡ßá!</p>
            </div>
            
            <div class="p-8 pb-8 text-center">
                <div class="mb-2 text-gray-500 font-semibold">‡¶Æ‡ßã‡¶ü ‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶æ ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶®</div>
                <div class="text-5xl font-bold text-green-600 mb-2" id="finalScore">‡ß¶</div>
                <div class="text-xl text-yellow-600 font-bold mb-6">‡¶ü‡¶æ‡¶ï‡¶æ</div>
                
                <p class="text-sm text-gray-400 mb-8 border-t border-gray-200 pt-4">
                    ‡¶™‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶∞‡¶ì ‡¶∏‡¶æ‡¶¨‡¶ß‡¶æ‡¶®‡ßá ‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶æ ‡¶§‡ßÅ‡¶≤‡ßÅ‡¶®!
                </p>

                <button onclick="startGame()" class="w-full bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-6 rounded-xl shadow-lg transition active:scale-95 text-lg flex items-center justify-center gap-2">
                    üîÑ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡¶æ‡¶®‡ßç‡¶¶‡¶æ ‡¶§‡ßÅ‡¶≤‡ßÅ‡¶®
                </button>
            </div>
        </div>
    </div>

    <canvas id="gameCanvas" class="block w-full h-full"></canvas>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('scoreDisplay');
        const finalScoreEl = document.getElementById('finalScore');
        const startScreen = document.getElementById('startScreen');
        const gameOverScreen = document.getElementById('gameOverScreen');

        // --- ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ ---
        const coinSound = new Audio('game-coin-pickup-.mp3'); 
        const weCustomSound = new Audio('dora-khai-gelam.mp3'); 
        const bgMusic = new Audio('we_have_a_plane.mp3'); 
        
        bgMusic.volume = 0.5;
        bgMusic.loop = false; // ‡¶≤‡ßÅ‡¶™ ‡¶´‡¶≤‡¶∏, ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶°‡¶ø‡¶≤‡ßá ‡¶¶‡¶ø‡¶¨‡ßã

        // ‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶°‡¶ø‡¶≤‡ßá ‡¶≤‡¶ú‡¶ø‡¶ï
        bgMusic.addEventListener('ended', function() {
            if (gameActive) {
                setTimeout(function() {
                    if (gameActive) {
                        bgMusic.currentTime = 0;
                        bgMusic.play().catch(e => console.log("BG music loop error:", e));
                    }
                }, 2000); 
            }
        });

        // ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function toBanglaNum(num) {
            const banglaDigits = ['‡ß¶', '‡ßß', '‡ß®', '‡ß©', '‡ß™', '‡ß´', '‡ß¨', '‡ß≠', '‡ßÆ', '‡ßØ'];
            return num.toString().split('').map(digit => banglaDigits[digit] || digit).join('');
        }

        const images = {
            player: new Image(),
            obstacle: new Image(),
            coin: new Image()
        };
        images.player.src = 'https://i.ibb.co.com/5h3WdRKq/khamba-tarek.png';
        images.obstacle.src = 'https://i.ibb.co.com/Z1BLFSgR/khamba0.png';
        images.coin.src = 'https://i.ibb.co.com/Z6pPbNfN/cahda.png';

        let gameActive = false;
        let score = 0;
        let frames = 0;
        let items = [];
        let animationId;
        
        let baseSpeed = 4;
        let currentSpeedMultiplier = 1;
        let spawnRate = 70;

        let player = { x: 0, y: 0, w: 120, h: 150 };

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            player.y = canvas.height - 180; 
            if(!gameActive) player.x = canvas.width / 2 - (player.w / 2);
        }
        window.addEventListener('resize', resize);
        resize();

        function handleInput(e) {
            if (!gameActive) return;
            let clientX = e.touches ? e.touches[0].clientX : e.clientX;
            player.x = clientX - player.w / 2;
            if (player.x < 0) player.x = 0;
            if (player.x + player.w > canvas.width) player.x = canvas.width - player.w;
        }
        window.addEventListener('mousemove', handleInput);
        window.addEventListener('touchmove', handleInput, {passive: false});
        window.addEventListener('touchstart', handleInput, {passive: false});

        function animate() {
            if (!gameActive) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (images.player.complete) {
                ctx.drawImage(images.player, player.x, player.y, player.w, player.h);
            }

            currentSpeedMultiplier = 1 + (score / 500); 
            let currentSpawnRate = Math.max(30, spawnRate - Math.floor(score / 50));

            if (frames % currentSpawnRate === 0) {
                let isCoin = Math.random() > 0.35;
                items.push({
                    type: isCoin ? 'coin' : 'obstacle',
                    x: Math.random() * (canvas.width - 60),
                    y: -120,
                    w: isCoin ? 50 : 65,
                    h: isCoin ? 50 : 130,
                    speed: (Math.random() * 2 + baseSpeed) 
                });
            }

            for (let i = items.length - 1; i >= 0; i--) {
                let item = items[i];
                item.y += item.speed * currentSpeedMultiplier;

                let img = item.type === 'coin' ? images.coin : images.obstacle;
                if (img.complete) {
                    ctx.drawImage(img, item.x, item.y, item.w, item.h);
                }

                let hitBoxPadding = 15;
                if (
                    player.x + hitBoxPadding < item.x + item.w &&
                    player.x + player.w - hitBoxPadding > item.x &&
                    player.y + hitBoxPadding < item.y + item.h &&
                    player.y + player.h - hitBoxPadding > item.y
                ) {
                    if (item.type === 'coin') {
                        score += 10;
                        scoreEl.innerText = toBanglaNum(score);
                        
                        coinSound.currentTime = 0; 
                        coinSound.play().catch(e => console.log("Audio play error:", e));

                        items.splice(i, 1);
                    } else {
                        gameOver();
                    }
                }

                if (item.y > canvas.height) {
                    items.splice(i, 1);
                }
            }

            frames++;
            animationId = requestAnimationFrame(animate);
        }

        function startGame() {
            startScreen.classList.add('hidden');
            gameOverScreen.classList.add('hidden');
            score = 0;
            frames = 0;
            items = [];
            currentSpeedMultiplier = 1;
            scoreEl.innerText = toBanglaNum(0);
            gameActive = true;
            resize(); 

            bgMusic.currentTime = 0;
            bgMusic.play().catch(e => console.log("BG music error:", e));

            animate();
        }

        function gameOver() {
            gameActive = false;
            cancelAnimationFrame(animationId);

            bgMusic.pause();
            
            weCustomSound.currentTime = 0;
            weCustomSound.play().catch(e => console.log("Game Over sound error:", e));
            
            finalScoreEl.innerText = toBanglaNum(score); 
            gameOverScreen.classList.remove('hidden');
        }
    </script>
</body>
</html>
